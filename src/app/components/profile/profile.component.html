<!-- loading and error indicators -->
<div *ngIf="loading" class="flex justify-center items-center h-full">
    <div *ngIf="!loadingError" class="flex flex-col justify-center items-center">
    <mat-spinner></mat-spinner>
    <p>Loading</p>
    </div>
    <div *ngIf="loadingError" class="flex flex-col justify-center items-center">
    <mat-icon class="red-text">error</mat-icon>
    <p class="red-text">Error: problem connecting to server</p>
    </div>
</div>
<div *ngIf="this.loading == false" class="w-full h-full flex flex-col justify-start items-center">
    <div class="h-full flex flex-col justify-center items-center">
        <mat-card>
            <div class="flex flex-col justify-center items-center">
            <mat-card-title>Profile</mat-card-title>
            <mat-card-content>
                <!-- basic user infomation -->
                <div class="flex flex-col justify-center items-center">
                <table>
                    <tbody>
                        <tr><td>Username: </td><td>{{ this.protectedData.username }}</td></tr>
                        <tr><td>Email: </td><td>{{ this.protectedData.email }}</td></tr>
                        <tr><td>Role: </td><td>{{ this.protectedData.role }}</td></tr>
                    </tbody>
                </table>
                </div>
            </mat-card-content>
            <!-- logout button -->
            <mat-card-actions>
                <div class="flex flex-col justify-center items-center">
                <button mat-raised-button type="submit" color="primary" (click)="logout()">Logout</button>
                </div>
            </mat-card-actions>
            <!-- privacy policy -->
            <div class="policy-links">
                <div class="flex flex-col justify-center items-center">
                <span><small><a routerLink='/privacy-policy'>View Privacy Policy</a></small></span>
                </div>
            </div>
            </div>
        </mat-card>
    </div>
    <!-- if user is site owner, show list of other users-->
    <div *ngIf="this.protectedData.role == 'Owner'" class="h-full flex flex-col">
        <app-users></app-users>
    </div>
</div>